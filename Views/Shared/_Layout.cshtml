@{
    var title = ViewData["Title"] as string ?? "Dashboard";
}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@title - Tahabo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom mb-3">
  <div class="container">
    <a class="navbar-brand fw-semibold" asp-controller="Home" asp-action="Index">Tahabo</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navMain" class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" asp-controller="Tasks" asp-action="Index">Tasks</a></li>
        <li class="nav-item"><a class="nav-link" asp-controller="Habits" asp-action="Index">Habits</a></li>
        <li class="nav-item"><a class="nav-link" asp-controller="Bookmarks" asp-action="Index">Bookmarks</a></li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" asp-controller="Home" asp-action="Privacy">Privacy</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="container pb-5">
    @RenderBody()
</main>

<footer class="border-top py-3 mt-auto">
  <div class="container d-flex justify-content-between small text-muted">
    <span>Tahabo 2025 © Increedible</span>
    <a class="link-secondary" asp-controller="Home" asp-action="Privacy">Privacy</a>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

@if (TempData["Toast"] is string toast && !string.IsNullOrWhiteSpace(toast))
{
    <div class="toast-float alert alert-success rounded-3 shadow" role="alert" id="appToast">
        @toast
    </div>
    <script>
      // auto-hide after 3 seconds
      setTimeout(() => {
        const t = document.getElementById('appToast');
        if (t) { t.classList.add('fade'); setTimeout(() => t.remove(), 400); }
      }, 3000);
    </script>
}

@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
